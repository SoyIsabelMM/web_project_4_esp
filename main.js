!function(){"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}e.p="/";var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selector=document.querySelector(t),this._btnPopupClose=document.querySelector(".popup__container-close-popup")}var t,r;return t=e,(r=[{key:"open",value:function(){this._selector.classList.remove("open"),document.addEventListener("keydown",this._handleEscClose.bind(this))}},{key:"close",value:function(){this._selector.classList.add("open"),document.removeEventListener("keydown",this._handleEscClose.bind(this))}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._btnPopupClose.addEventListener("click",this.close.bind(this)),this._selector.addEventListener("click",(function(t){t.target.classList.contains("popup__overlay")&&e.close()}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(s,e);var t,n,r,u,l=(r=s,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(u){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),l.call(this,e)}return t=s,(n=[{key:"open",value:function(e,t){this.containerImage=document.querySelector(".modal__image-card").src=e,this.ContainerTitle=document.querySelector(".modal__title-text").textContent=t,this._selector.classList.remove("open"),document.removeEventListener("keydown",this._handleEscClose)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r),l=[{name:"Valle de Yosemite",src:e.p+"100a342ee639b0e3137a.jpeg"},{name:"Lago Louise",src:e.p+"521ae5d62f4a54ebe4e8.jpeg"},{name:"MontaÃ±as Calvas",src:e.p+"7a191508ccf12e43aeaf.jpeg"},{name:"Latemar",src:e.p+"121ac7a894f14309e02a.jpeg"},{name:"Parque Nacional de la Vanoise",src:e.p+"4af25ddb77513654ef90.jpeg"},{name:"Lago di Braies",src:e.p+"c08832ea560c8067e8df.jpeg"}],s=document.querySelector(".elements"),f=document.querySelector(".modal"),p=f.querySelector(".modal__container-close"),y=document.querySelector(".profile__info-edit-btn"),m=document.querySelector("#name"),d=document.querySelector("#about-me"),v=document.querySelector(".profile__add-btn"),b=document.querySelector("#add-picture-form .popup__container-close-popup"),h={inputSelector:".popup__container-input",submitButtonSelector:".popup__container-save-btn",inactiveButtonClass:"popup__container-save-btn_inactive",inputErrorClass:"popup__container-input_type_error",errorClass:"popup__input-error_active"};function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitAction=t,n._formElement=document.querySelector("".concat(e," .popup__container-form")),n._popupElement=document.querySelector(".popup"),n._inputList=n._formElement.querySelectorAll(".popup__container-input"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this,t={};return this._inputList.forEach((function(n){var r,o=null===(r=e._formElement.querySelector("#".concat(n.id)))||void 0===r?void 0:r.value;t[n.id]=o})),t}},{key:"_handleAddClass",value:function(){this._popupElement.classList.add("open")}},{key:"setEventListeners",value:function(){var e=this;g(E(a.prototype),"setEventListeners",this).call(this),this._btnClose=this._popupElement.querySelector(".popup__container-close-popup"),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._submitAction(e._getInputValues())})),this._btnClose.addEventListener("click",(function(){e._handleAddClass()}))}},{key:"close",value:function(){g(E(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(r);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}var P=function(){function e(t){var n=t.nameUserSelector,r=t.jobUserSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameSelector=document.querySelector(n),this._jobSelector=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameSelector.textContent,job:this._jobSelector.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._nameSelector.textContent=t,this._jobSelector.textContent=n}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),L="/web_project_4_esp/",O=new j("#edit-profile-form",(function(){q.close(),I.setUserInfo({name:m.value,job:d.value})})),q=new r("#edit-profile-form");O.setEventListeners();var I=new P({nameUserSelector:".profile__info-name",jobUserSelector:".profile__info-about"});function B(){f.classList.add("open")}var T=new j("#add-picture-form",(function(){var e,t,n,r;e=document.querySelector("#title-place"),t=document.querySelector("#new-image"),n={name:e.value,src:t.value},r=new V(n).generateCard(),s.prepend(r),x(),T.close()}));function x(){T.open()}function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}T.setEventListeners();var V=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._src=t.src,this._modalWithImage=new u(".modal")}var t,n;return t=e,(n=[{key:"_getTemplateCard",value:function(){return document.querySelector("#card-template").content.querySelector(".elements__card-container").cloneNode(!0)}},{key:"_handleDeleteCard",value:function(){this.element.remove()}},{key:"_handleLikeIcon",value:function(){this.element.querySelector(".elements__card-container-footing-btn").classList.toggle("elements__card-container-footing-btn_active"),this.computedStyle=window.getComputedStyle(this.element),this.backgroundImage=this.computedStyle.getPropertyValue("background-image"),this.modifiedBackgroundImage=this.backgroundImage.replace(L+"url(../../../../images/like-btn-active.png)")}},{key:"_handleOpenExpandedImage",value:function(){this._modalWithImage.open(this._src,this._name)}},{key:"_setEventListeners",value:function(){var e=this;this.likeBtn=this.element.querySelector(".elements__card-container-footing-btn"),this.likeBtn.addEventListener("click",(function(){e._handleLikeIcon()})),this.btnDelete=this.element.querySelector(".elements__card-container-btn-delete"),this.btnDelete.addEventListener("click",(function(){e._handleDeleteCard()})),this.elementImageCard.addEventListener("click",(function(){e._handleOpenExpandedImage()}))}},{key:"generateCard",value:function(){return this.element=this._getTemplateCard(),this.elementImageCard=this.element.querySelector(".elements__card-container-image"),this.elementTitleCard=this.element.querySelector(".elements__card-container-footing-title"),this._setEventListeners(),this.elementImageCard.src=this._src,this.elementImageCard.alt=this._name,this.elementTitleCard.textContent=this._name,this.element}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}var M=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._inputSelector)),n=this._formElement.querySelector(this._submitButtonSelector);this._toggleButtonState(t,n),t.forEach((function(r){r.addEventListener("input",(function(){e._isValid(e._formElement,r),e._toggleButtonState(t,n)}))}))}},{key:"_isValid",value:function(e,t){t.validity.valid?this._hideInputError(e,t):this._showInputError(e,t,t.validationMessage)}},{key:"_showInputError",value:function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),r.textContent=n,r.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),n.classList.remove(this._errorClass),n.textContent=""}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?this._disabledButton(t):this._enableButton(t)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_disabledButton",value:function(e){e.classList.add(this._inactiveButtonClass),e.setAttribute("disabled",!0)}},{key:"_enableButton",value:function(e){e.classList.remove(this._inactiveButtonClass),e.removeAttribute("disabled",!1)}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===N(o)?o:String(o)),r)}var o}var Y=new(function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderer",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}}])&&W(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({items:l.map((function(e){return{name:e.name,src:L+e.src}})),renderer:function(e){var t=new V(e,"#card-Template").generateCard();Y.addItem(t)}},".elements");Y.renderer(),Array.from(document.querySelectorAll(".popup__container-form")).forEach((function(e){new M(h,e).enableValidation()})),p.addEventListener("click",B),f.addEventListener("click",B),y.addEventListener("click",(function(){O.open();var e=I.getUserInfo();m.value=e.name,d.value=e.job})),v.addEventListener("click",x),b.addEventListener("click",(function(){T.close()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&f.classList.add("open")}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNoQixJSDBEQTdILEVBQTJCdkIsaUJBQWlCLFFBQVN3RSxHQUNyRGxELEVBQW1CdEIsaUJBQWlCLFFBQVN3RSxHQUM3Q2hELEVBQW1CeEIsaUJBQWlCLFNBckV0QyxXQUNFbUUsRUFBaUJlLE9BRWpCLElBQU1tRSxFQUFrQmhGLEVBQVNpRixjQUVqQzdILEVBQVU1QixNQUFRd0osRUFBZ0JySSxLQUNsQ1UsRUFBYTdCLE1BQVF3SixFQUFnQnJGLEdBQ3ZDLElBK0RFckMsRUFBb0IzQixpQkFBaUIsUUFBU2lGLEdBQzlDckQsRUFBb0I1QixpQkFBaUIsU0F6QnZDLFdBQ0V5RSxFQUFvQm5FLE9BQ3RCLElBeUJFYixTQUFTTyxpQkFBaUIsV0E5QzVCLFNBQW9CSyxHQUNGLFdBQVpBLEVBQUlULEtBQ04wQixFQUFtQnhCLFVBQVVLLElBQUksT0FFckMsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3V0aWxzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3V0aWxzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy91dGlscy9wb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3V0aWxzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3V0aWxzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvcGFnZXMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3NlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9idG5Qb3B1cENsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLnBvcHVwX19jb250YWluZXItY2xvc2UtcG9wdXBcIlxuICAgICk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3NlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcIm9wZW5cIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9idG5Qb3B1cENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5fc2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19vdmVybGF5XCIpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2hpdEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKHNyYywgbmFtZSkge1xuICAgIHRoaXMuY29udGFpbmVySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXJkXCIpLnNyYyA9XG4gICAgICBzcmM7XG5cbiAgICB0aGlzLkNvbnRhaW5lclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX190aXRsZS10ZXh0XCJcbiAgICApLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIHRoaXMuX3NlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxufVxuIiwiLy8gSW1wb3J0IHlvdXIgaW1hZ2VzXG5pbXBvcnQgdmFsbGVZb3NlbWl0ZSBmcm9tICcuLi9pbWFnZXMvdmFsbGUteW9zZW1pdGUuanBlZyc7XG5pbXBvcnQgbGFnb0xvdWlzZSBmcm9tICcuLi9pbWFnZXMvTGFnby1Mb3Vpc2UuanBlZyc7XG5pbXBvcnQgbW9udGFuYXNDYWx2YXMgZnJvbSAnLi4vaW1hZ2VzL21vbnRhbmFzLWNhbHZhcy5qcGVnJztcbmltcG9ydCBsYXRlbWFyIGZyb20gJy4uL2ltYWdlcy9sYXRlbWFyLmpwZWcnO1xuaW1wb3J0IHBhcnF1ZVZhbm9pc2UgZnJvbSAnLi4vaW1hZ2VzL3BhcnF1ZS12YW5vaXNlLmpwZWcnO1xuaW1wb3J0IGxhZ29EaWJyYWllcyBmcm9tICcuLi9pbWFnZXMvbGFnby1kaWJyYWllcy5qcGVnJztcblxuLyoqXG4gKiBDb25zdGFudGUgcXVlIGFsbWFjZW5hIHRvZGFzIGxhcyBpbcOhZ2VuZXMgcXVlIGFwYXJlY2VuIGFsIGluaWNpbyBkZSBudWVzdHJvIHByb3llY3RvXG4gKi9cbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXG4gICAgc3JjOiB2YWxsZVlvc2VtaXRlLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxuICAgIHNyYzogbGFnb0xvdWlzZSxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTW9udGHDsWFzIENhbHZhc1wiLFxuICAgIHNyYzogbW9udGFuYXNDYWx2YXMsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcbiAgICBzcmM6IGxhdGVtYXIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlBhcnF1ZSBOYWNpb25hbCBkZSBsYSBWYW5vaXNlXCIsXG4gICAgc3JjOiBwYXJxdWVWYW5vaXNlLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIHNyYzogbGFnb0RpYnJhaWVzLFxuICB9LFxuXTtcblxuLyoqXG4gKiBUcmFlbW9zIG51ZXN0cmEgc2VjY2nDs24gZWxlbWVudCwgYXF1w60gZXN0YXLDoW4gYWxtYWNlbmFkYXMgbnVlc3RyYXMgY2FyZHNcbiAqL1xuZXhwb3J0IGNvbnN0IGVsZW1lbnRzU2VjdGlvbkNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xuXG4vKipUcmFlbW9zIGVsIGVsZW1lbnRvIEhUTUwgbW9kYWwgeSBzdSBib3TDs24gcGFyYSBjZXJyYXIgKi9cbmV4cG9ydCBjb25zdCBtb2RhbEV4cGFuZGVkSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsRXhwYW5kZWRJbWFnZUNsb3NlQnRuID0gbW9kYWxFeHBhbmRlZEltYWdlLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLm1vZGFsX19jb250YWluZXItY2xvc2VcIlxuKTtcblxuLyoqIENvbnN0YW50ZXMgcGFyYSB1dGlsaXphcmxhcyBlbiBlbCBmdW5jaW9uYW1pZW50byBkZSBlZGl0YXIgZWwgcGVyZmlsICovXG5leHBvcnQgY29uc3QgYnRuRWRpdEluZm9Qcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZV9faW5mby1lZGl0LWJ0blwiXG4pO1xuXG5leHBvcnQgY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lXCIpO1xuZXhwb3J0IGNvbnN0IGlucHV0QWJvdXRNZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWJvdXQtbWVcIik7XG5cbi8qKkNvbnN0YW50ZXMgcGFyYSB1dGlsaXphcmxhcyBlbiBlbCBmdW5jaW9uYW1pZW50byBkZSBhw7FhZGlyIG51ZXZhcyBpbWFnZW5lcyAqL1xuZXhwb3J0IGNvbnN0IGJ0bk9wZW5Gb3JtQWRkSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idG5cIik7XG5leHBvcnQgY29uc3QgYWRkUGljdHVyZUZvcm1DbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI2FkZC1waWN0dXJlLWZvcm0gLnBvcHVwX19jb250YWluZXItY2xvc2UtcG9wdXBcIlxuKTtcblxuZXhwb3J0IGNvbnN0IHNldHRpbmdFbGVtZW50ID0ge1xuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9fY29udGFpbmVyLWlucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fY29udGFpbmVyLXNhdmUtYnRuXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2NvbnRhaW5lci1zYXZlLWJ0bl9pbmFjdGl2ZVwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2NvbnRhaW5lci1pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IHNlbGVjdG9yID0gXCIuZWxlbWVudHNcIjsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0QWN0aW9uKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0QWN0aW9uID0gc3VibWl0QWN0aW9uO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAke3BvcHVwU2VsZWN0b3J9IC5wb3B1cF9fY29udGFpbmVyLWZvcm1gXG4gICAgKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwXCIpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBcIi5wb3B1cF9fY29udGFpbmVyLWlucHV0XCJcbiAgICApO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfWApPy52YWx1ZTtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0LmlkXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIF9oYW5kbGVBZGRDbGFzcygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm9wZW5cIik7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fYnRuQ2xvc2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLnBvcHVwX19jb250YWluZXItY2xvc2UtcG9wdXBcIlxuICAgICk7XG5cbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0QWN0aW9uKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fYnRuQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUFkZENsYXNzKCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lVXNlclNlbGVjdG9yLCBqb2JVc2VyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWVTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVVzZXJTZWxlY3Rvcik7XG4gICAgdGhpcy5fam9iU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlVzZXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZVNlbGVjdG9yLnRleHRDb250ZW50LFxuICAgICAgam9iOiB0aGlzLl9qb2JTZWxlY3Rvci50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xuICAgIHRoaXMuX25hbWVTZWxlY3Rvci50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fam9iU2VsZWN0b3IudGV4dENvbnRlbnQgPSBqb2I7XG4gIH1cbn1cbiIsImltcG9ydCBDYXJkIGZyb20gXCIuL0NhcmQuanNcIjtcbmltcG9ydCB7XG4gIGVsZW1lbnRzU2VjdGlvbkNhcmQsXG4gIG1vZGFsRXhwYW5kZWRJbWFnZSxcbiAgbW9kYWxFeHBhbmRlZEltYWdlQ2xvc2VCdG4sXG4gIGJ0bkVkaXRJbmZvUHJvZmlsZSxcbiAgaW5wdXROYW1lLFxuICBpbnB1dEFib3V0TWUsXG4gIGJ0bk9wZW5Gb3JtQWRkSW1hZ2UsXG4gIGFkZFBpY3R1cmVGb3JtQ2xvc2UsXG59IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9wb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vVXNlckluZm8uanNcIjtcblxuZXhwb3J0IGNvbnN0IGJhc2VQYXRoID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50JyA/IFwiXCIgOiBcIi93ZWJfcHJvamVjdF80X2VzcC9cIjtcblxuY29uc3QgcG9wdXBGb3JtUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2VkaXQtcHJvZmlsZS1mb3JtXCIsIGVkaXRQcm9maWxlKTtcbmNvbnN0IGNsb3NlUG9wdXBFZGl0UHJvZmlsZSA9IG5ldyBQb3B1cChcIiNlZGl0LXByb2ZpbGUtZm9ybVwiKTtcblxucG9wdXBGb3JtUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVVc2VyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2luZm8tbmFtZVwiLFxuICBqb2JVc2VyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2luZm8tYWJvdXRcIixcbn0pO1xuXG4vKipcbiAqQWJyZSB5IHRyYWUgbG9zIGRhdG9zIGRlbCBjb250ZW5lZG9yIGRlIHBlcmZpbC5cbiAqL1xuZnVuY3Rpb24gb3BlblBvcHVwUHJvZmlsZSgpIHtcbiAgcG9wdXBGb3JtUHJvZmlsZS5vcGVuKCk7XG5cbiAgY29uc3QgY3VycmVudFVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcblxuICBpbnB1dE5hbWUudmFsdWUgPSBjdXJyZW50VXNlckluZm8ubmFtZTtcbiAgaW5wdXRBYm91dE1lLnZhbHVlID0gY3VycmVudFVzZXJJbmZvLmpvYjtcbn1cblxuLyoqXG4gKiBDYW1iaW8gZGUgZGF0b3MgYWwgZWRpdGFyIHBlcmZpbCB5IHF1ZWRlbiBhbG1hY2VuYWRvXG4gKmxvcyB2YWxvcmVzIG51ZXZvc1xuICovXG5mdW5jdGlvbiBlZGl0UHJvZmlsZSgpIHtcbiAgY2xvc2VQb3B1cEVkaXRQcm9maWxlLmNsb3NlKCk7XG5cbiAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgIG5hbWU6IGlucHV0TmFtZS52YWx1ZSxcbiAgICBqb2I6IGlucHV0QWJvdXRNZS52YWx1ZSxcbiAgfSk7XG59XG5cbi8qKkNpZXJyZSBkZWwgbW9kYWwgZGUgZXhwYW5kZWRJbWFnZSwgc2UgYXBsaWNhIGFsIGJvdG9uIFggKi9cbmZ1bmN0aW9uIGNsb3NlTW9kYWxFeHBhbmRlZEltYWdlKCkge1xuICBtb2RhbEV4cGFuZGVkSW1hZ2UuY2xhc3NMaXN0LmFkZChcIm9wZW5cIik7XG59XG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWwoZXZ0KSB7XG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgbW9kYWxFeHBhbmRlZEltYWdlLmNsYXNzTGlzdC5hZGQoXCJvcGVuXCIpO1xuICB9XG59XG5cbi8qKkxvZ8OtY2EgcGFyYSBlbCBmb3JtdWxhcmlvLCBhZ3JlZ2FyIG51ZXZhcyBpbcOhZ2VuZXMsIGFicmlyLCBjZXJyYXIgeSBmb3JtYXRlYXIgKi9cblxuY29uc3QgcG9wdXBGb3JtQWRkUGljdHVyZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNhZGQtcGljdHVyZS1mb3JtXCIsXG4gIHNhdmVOZXdJbWFnZVxuKTtcblxucG9wdXBGb3JtQWRkUGljdHVyZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBvcGVuUG9wdXBBZGRJbWFnZSgpIHtcbiAgcG9wdXBGb3JtQWRkUGljdHVyZS5vcGVuKCk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlUG9wdXBBZGRJbWFnZSgpIHtcbiAgcG9wdXBGb3JtQWRkUGljdHVyZS5jbG9zZSgpO1xufVxuXG5mdW5jdGlvbiBzYXZlTmV3SW1hZ2UoKSB7XG4gIGFkZE5ld0NhcmRFbGVtZW50KCk7XG4gIHBvcHVwRm9ybUFkZFBpY3R1cmUuY2xvc2UoKTtcbn1cblxuZnVuY3Rpb24gYWRkTmV3Q2FyZEVsZW1lbnQoKSB7XG4gIGNvbnN0IGlucHV0VGl0bGVQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGUtcGxhY2VcIik7XG4gIGNvbnN0IGlucHV0TmV3SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1pbWFnZVwiKTtcblxuICBjb25zdCBkYXRhID0geyBuYW1lOiBpbnB1dFRpdGxlUGxhY2UudmFsdWUsIHNyYzogaW5wdXROZXdJbWFnZS52YWx1ZSB9O1xuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKGRhdGEpLmdlbmVyYXRlQ2FyZCgpO1xuXG4gIGVsZW1lbnRzU2VjdGlvbkNhcmQucHJlcGVuZChjYXJkRWxlbWVudCk7XG4gIG9wZW5Qb3B1cEFkZEltYWdlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgbW9kYWxFeHBhbmRlZEltYWdlQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlTW9kYWxFeHBhbmRlZEltYWdlKTtcbiAgbW9kYWxFeHBhbmRlZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZU1vZGFsRXhwYW5kZWRJbWFnZSk7XG4gIGJ0bkVkaXRJbmZvUHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlblBvcHVwUHJvZmlsZSk7XG4gIGJ0bk9wZW5Gb3JtQWRkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qb3B1cEFkZEltYWdlKTtcbiAgYWRkUGljdHVyZUZvcm1DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VQb3B1cEFkZEltYWdlKTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZU1vZGFsKTtcbn0iLCJpbXBvcnQgUG9wdXBXaGl0SW1hZ2UgZnJvbSBcIi4vUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7IGJhc2VQYXRoIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3NyYyA9IGRhdGEuc3JjO1xuICAgIHRoaXMuX21vZGFsV2l0aEltYWdlID0gbmV3IFBvcHVwV2hpdEltYWdlKFwiLm1vZGFsXCIpO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlQ2FyZCgpIHtcbiAgICBjb25zdCBjYXJkVGVtcGxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIikuY29udGVudDtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGV0ZVxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NhcmQtY29udGFpbmVyXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgX2hhbmRsZURlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VJY29uKCkge1xuICAgIHRoaXMuZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NhcmQtY29udGFpbmVyLWZvb3RpbmctYnRuXCIpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19jYXJkLWNvbnRhaW5lci1mb290aW5nLWJ0bl9hY3RpdmVcIik7XG5cbnRoaXMuY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudCk7XG50aGlzLmJhY2tncm91bmRJbWFnZSA9IHRoaXMuY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiYmFja2dyb3VuZC1pbWFnZVwiKTtcbnRoaXMubW9kaWZpZWRCYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLmJhY2tncm91bmRJbWFnZS5yZXBsYWNlKGJhc2VQYXRoK1widXJsKC4uLy4uLy4uLy4uL2ltYWdlcy9saWtlLWJ0bi1hY3RpdmUucG5nKVwiKTtcbiAgfVxuXG4gIF9oYW5kbGVPcGVuRXhwYW5kZWRJbWFnZSgpIHtcbiAgICB0aGlzLl9tb2RhbFdpdGhJbWFnZS5vcGVuKHRoaXMuX3NyYywgdGhpcy5fbmFtZSk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5saWtlQnRuID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5lbGVtZW50c19fY2FyZC1jb250YWluZXItZm9vdGluZy1idG5cIlxuICAgICk7XG5cbiAgICB0aGlzLmxpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmJ0bkRlbGV0ZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuZWxlbWVudHNfX2NhcmQtY29udGFpbmVyLWJ0bi1kZWxldGVcIlxuICAgICk7XG5cbiAgICB0aGlzLmJ0bkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbGVtZW50SW1hZ2VDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVPcGVuRXhwYW5kZWRJbWFnZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlQ2FyZCgpO1xuICAgIHRoaXMuZWxlbWVudEltYWdlQ2FyZCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuZWxlbWVudHNfX2NhcmQtY29udGFpbmVyLWltYWdlXCJcbiAgICApO1xuICAgIHRoaXMuZWxlbWVudFRpdGxlQ2FyZCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuZWxlbWVudHNfX2NhcmQtY29udGFpbmVyLWZvb3RpbmctdGl0bGVcIlxuICAgICk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuZWxlbWVudEltYWdlQ2FyZC5zcmMgPSB0aGlzLl9zcmM7XG4gICAgdGhpcy5lbGVtZW50SW1hZ2VDYXJkLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5lbGVtZW50VGl0bGVDYXJkLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5nLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5nLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5nLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5nLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG5cbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQodGhpcy5fZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBMw7NnaWNhIGRlbCBmb3JtdWxhcmlvKi9cbiAgX2lzVmFsaWQoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xuICAgIGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxuICAgICAgPyB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KVxuICAgICAgOiB0aGlzLl9zaG93SW5wdXRFcnJvcihcbiAgICAgICAgICBmb3JtRWxlbWVudCxcbiAgICAgICAgICBpbnB1dEVsZW1lbnQsXG4gICAgICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlXG4gICAgICAgICk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG5cbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcblxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG5cbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgLyoqIEzDs2dpY2EgZGVsIGJvdMOzbiAqLyBcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgICAgdGhpcy5fZGlzYWJsZWRCdXR0b24oYnV0dG9uRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbihidXR0b25FbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbiAgfVxuXG4gIF9kaXNhYmxlZEJ1dHRvbihidXR0b25FbGVtZW50KSB7XG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gIH1cblxuICBfZW5hYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQpIHtcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vc3R5bGVzL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NyYy91dGlscy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vc3JjL3BhZ2VzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIHNldHRpbmdFbGVtZW50LFxuICBzZWxlY3Rvcixcbn0gZnJvbSBcIi4uL3NyYy91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXJzLCBiYXNlUGF0aCB9IGZyb20gXCIuLi9zcmMvdXRpbHMvdXRpbHMuanNcIlxuXG5jb25zdCByZW5kZXJJbml0aWFsQ2FyZHMgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMubWFwKChldnQpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGV2dC5uYW1lLFxuICAgICAgICBzcmM6IGJhc2VQYXRoK2V2dC5zcmNcbiAgICAgIH1cbiAgICB9KSxcbiAgICByZW5kZXJlcjogKGNhcmRJdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZEl0ZW0sIFwiI2NhcmQtVGVtcGxhdGVcIik7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG5cbiAgICAgIHJlbmRlckluaXRpYWxDYXJkcy5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICB9LFxuICB9LFxuICBzZWxlY3RvclxuKTtcblxucmVuZGVySW5pdGlhbENhcmRzLnJlbmRlcmVyKCk7XG5cbihmdW5jdGlvbiBpbml0KCkge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fY29udGFpbmVyLWZvcm1cIilcbiAgKTtcblxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5nRWxlbWVudCwgZm9ybUVsZW1lbnQpO1xuICAgIGZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn0pKCk7XG5cbmFkZEV2ZW50TGlzdGVuZXJzKCk7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVyZXIoKSB7XG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pOyBcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoaXRlbSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfc2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfYnRuUG9wdXBDbG9zZSIsImtleSIsInZhbHVlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJhZGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xvc2UiLCJfdGhpcyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaGl0SW1hZ2UiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJjYWxsIiwic3JjIiwibmFtZSIsImNvbnRhaW5lckltYWdlIiwiQ29udGFpbmVyVGl0bGUiLCJ0ZXh0Q29udGVudCIsImluaXRpYWxDYXJkcyIsImVsZW1lbnRzU2VjdGlvbkNhcmQiLCJtb2RhbEV4cGFuZGVkSW1hZ2UiLCJtb2RhbEV4cGFuZGVkSW1hZ2VDbG9zZUJ0biIsImJ0bkVkaXRJbmZvUHJvZmlsZSIsImlucHV0TmFtZSIsImlucHV0QWJvdXRNZSIsImJ0bk9wZW5Gb3JtQWRkSW1hZ2UiLCJhZGRQaWN0dXJlRm9ybUNsb3NlIiwic2V0dGluZ0VsZW1lbnQiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRBY3Rpb24iLCJfc3VibWl0QWN0aW9uIiwiX2Zvcm1FbGVtZW50IiwiY29uY2F0IiwiX3BvcHVwRWxlbWVudCIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3RoaXMyIiwiaW5wdXRWYWx1ZXMiLCJmb3JFYWNoIiwiaW5wdXQiLCJfdGhpczIkX2Zvcm1FbGVtZW50JHEiLCJpZCIsIl90aGlzMyIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJfYnRuQ2xvc2UiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9oYW5kbGVBZGRDbGFzcyIsInJlc2V0IiwiVXNlckluZm8iLCJfcmVmIiwibmFtZVVzZXJTZWxlY3RvciIsImpvYlVzZXJTZWxlY3RvciIsIl9uYW1lU2VsZWN0b3IiLCJfam9iU2VsZWN0b3IiLCJqb2IiLCJfcmVmMiIsImJhc2VQYXRoIiwicG9wdXBGb3JtUHJvZmlsZSIsImNsb3NlUG9wdXBFZGl0UHJvZmlsZSIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsImNsb3NlTW9kYWxFeHBhbmRlZEltYWdlIiwicG9wdXBGb3JtQWRkUGljdHVyZSIsImlucHV0VGl0bGVQbGFjZSIsImlucHV0TmV3SW1hZ2UiLCJkYXRhIiwiY2FyZEVsZW1lbnQiLCJDYXJkIiwiZ2VuZXJhdGVDYXJkIiwicHJlcGVuZCIsIm9wZW5Qb3B1cEFkZEltYWdlIiwib3BlbiIsIl9uYW1lIiwiX3NyYyIsIl9tb2RhbFdpdGhJbWFnZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJlbGVtZW50IiwidG9nZ2xlIiwiY29tcHV0ZWRTdHlsZSIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibW9kaWZpZWRCYWNrZ3JvdW5kSW1hZ2UiLCJyZXBsYWNlIiwibGlrZUJ0biIsIl9oYW5kbGVMaWtlSWNvbiIsImJ0bkRlbGV0ZSIsIl9oYW5kbGVEZWxldGVDYXJkIiwiZWxlbWVudEltYWdlQ2FyZCIsIl9oYW5kbGVPcGVuRXhwYW5kZWRJbWFnZSIsIl9nZXRUZW1wbGF0ZUNhcmQiLCJlbGVtZW50VGl0bGVDYXJkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWx0IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmciLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJpbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJidXR0b25FbGVtZW50IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRFbGVtZW50IiwiX2lzVmFsaWQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVkQnV0dG9uIiwiX2VuYWJsZUJ1dHRvbiIsInNvbWUiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZW5kZXJJbml0aWFsQ2FyZHMiLCJTZWN0aW9uIiwic2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2luaXRpYWxBcnJheSIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwiYXBwZW5kIiwibWFwIiwiY2FyZEl0ZW0iLCJhZGRJdGVtIiwiZW5hYmxlVmFsaWRhdGlvbiIsImN1cnJlbnRVc2VySW5mbyIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==