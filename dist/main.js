!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}var a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(s,e);var t,a,l,c,u=(l=s,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(l);if(c){var r=i(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),u.call(this,e)}return t=s,(a=[{key:"open",value:function(e,t){this.containerImage=document.querySelector(".modal__image-card").src=e,this.ContainerTitle=document.querySelector(".modal__title-text").textContent=t,this._selector.classList.remove("open"),document.removeEventListener("keydown",this._handleEscClose)}}])&&r(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selector=document.querySelector(t),this._btnPopupClose=document.querySelector(".popup__container-close-popup")}var n,r;return n=e,(r=[{key:"open",value:function(){this._selector.classList.remove("open"),document.addEventListener("keydown",this._handleEscClose.bind(this))}},{key:"close",value:function(){this._selector.classList.add("open"),document.removeEventListener("keydown",this._handleEscClose.bind(this))}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._btnPopupClose.addEventListener("click",this.close.bind(this)),this._selector.addEventListener("click",(function(t){t.target.classList.contains("popup__overlay")&&e.close()}))}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}());function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._src=t.src,this._modalWithImage=new a(".modal")}var t,n;return t=e,(n=[{key:"_getTemplateCard",value:function(){return document.querySelector("#card-template").content.querySelector(".elements__card-container").cloneNode(!0)}},{key:"_handleDeleteCard",value:function(){this.element.remove()}},{key:"_handleLikeIcon",value:function(){this.element.querySelector(".elements__card-container-footing-btn").classList.toggle("elements__card-container-footing-btn_active")}},{key:"_handleOpenExpandedImage",value:function(){this._modalWithImage.open(this._src,this._name)}},{key:"_setEventListeners",value:function(){var e=this;this.likeBtn=this.element.querySelector(".elements__card-container-footing-btn"),this.likeBtn.addEventListener("click",(function(){e._handleLikeIcon()})),this.btnDelete=this.element.querySelector(".elements__card-container-btn-delete"),this.btnDelete.addEventListener("click",(function(){e._handleDeleteCard()})),this.elementImageCard.addEventListener("click",(function(){e._handleOpenExpandedImage()}))}},{key:"generateCard",value:function(){return this.element=this._getTemplateCard(),this.elementImageCard=this.element.querySelector(".elements__card-container-image"),this.elementTitleCard=this.element.querySelector(".elements__card-container-footing-title"),this._setEventListeners(),this.elementImageCard.src=this._src,this.elementImageCard.alt=this._name,this.elementTitleCard.textContent=this._name,this.element}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._inputSelector)),n=this._formElement.querySelector(this._submitButtonSelector);this._toggleButtonState(t,n),t.forEach((function(r){r.addEventListener("input",(function(){e._isValid(e._formElement,r),e._toggleButtonState(t,n)}))}))}},{key:"_isValid",value:function(e,t){t.validity.valid?this._hideInputError(e,t):this._showInputError(e,t,t.validationMessage)}},{key:"_showInputError",value:function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),r.textContent=n,r.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),n.classList.remove(this._errorClass),n.textContent=""}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?this._disabledButton(t):this._enableButton(t)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_disabledButton",value:function(e){e.classList.add(this._inactiveButtonClass),e.setAttribute("disabled",!0)}},{key:"_enableButton",value:function(e){e.classList.remove(this._inactiveButtonClass),e.removeAttribute("disabled",!1)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===p(o)?o:String(o)),r)}var o}var d=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderer",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=(document.querySelector(".elements"),document.querySelector(".modal").querySelector(".modal__container-close"),document.querySelector(".profile__info-edit-btn"),document.querySelector("#name"),document.querySelector("#about-me"),document.querySelector(".profile__add-btn"),document.querySelector("#add-picture-form .popup__container-close-popup"),{inputSelector:".popup__container-input",submitButtonSelector:".popup__container-save-btn",inactiveButtonClass:"popup__container-save-btn_inactive",inputErrorClass:"popup__container-input_type_error",errorClass:"popup__input-error_active"}),b=new d({items:[{name:"Valle de Yosemite",src:"./images/valle-yosemite.jpeg"},{name:"Lago Louise",src:"./images/Lago-Louise.jpeg"},{name:"MontaÃ±as Calvas",src:"./images/montanas-calvas.jpeg"},{name:"Latemar",src:"./images/latemar.jpeg"},{name:"Parque Nacional de la Vanoise",src:"./images/parque-vanoise.jpeg"},{name:"Lago di Braies",src:"./images/lago-dibraies.jpeg"}],renderer:function(e){var t=new u(e,"#card-Template").generateCard();b.addItem(t)}},".elements");b.renderer(),Array.from(document.querySelectorAll(".popup__container-form")).forEach((function(e){new m(v,e).enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNFQyxLQUFNLGlCQUNORCxJQUFLLGdDQ2JMcUYsU0FBVSxTQUFDUSxHQUNULElBQ01DLEVBRE8sSUFBSXZFLEVBQUtzRSxFQUFVLGtCQUNQRSxlQUV6QkgsRUFBbUJJLFFBQVFGLEVBQzdCLEdENkNvQixhQ3hDeEJGLEVBQW1CUCxXQUdBM0IsTUFBTUMsS0FDckJ2RCxTQUFTd0QsaUJBQWlCLDJCQUduQkcsU0FBUSxTQUFDbEIsR0FDTSxJQUFJRixFQUFjZ0QsRUFBZ0I5QyxHQUMxQ29ELGtCQUNoQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvdXRpbHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvdXRpbHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvdXRpbHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9wYWdlcy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2hpdEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKHNyYywgbmFtZSkge1xuICAgIHRoaXMuY29udGFpbmVySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXJkXCIpLnNyYyA9XG4gICAgICBzcmM7XG5cbiAgICB0aGlzLkNvbnRhaW5lclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX190aXRsZS10ZXh0XCJcbiAgICApLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIHRoaXMuX3NlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2J0blBvcHVwQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIucG9wdXBfX2NvbnRhaW5lci1jbG9zZS1wb3B1cFwiXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fc2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9zZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwib3BlblwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2J0blBvcHVwQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLl9zZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX292ZXJsYXlcIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXBXaGl0SW1hZ2UgZnJvbSBcIi4vUG9wdXBXaXRoSW1hZ2UuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3NyYyA9IGRhdGEuc3JjO1xuICAgIHRoaXMuX21vZGFsV2l0aEltYWdlID0gbmV3IFBvcHVwV2hpdEltYWdlKFwiLm1vZGFsXCIpO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlQ2FyZCgpIHtcbiAgICBjb25zdCBjYXJkVGVtcGxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIikuY29udGVudDtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGV0ZVxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NhcmQtY29udGFpbmVyXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgX2hhbmRsZURlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VJY29uKCkge1xuICAgIHRoaXMuZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NhcmQtY29udGFpbmVyLWZvb3RpbmctYnRuXCIpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19jYXJkLWNvbnRhaW5lci1mb290aW5nLWJ0bl9hY3RpdmVcIik7XG4gIH1cblxuICBfaGFuZGxlT3BlbkV4cGFuZGVkSW1hZ2UoKSB7XG4gICAgdGhpcy5fbW9kYWxXaXRoSW1hZ2Uub3Blbih0aGlzLl9zcmMsIHRoaXMuX25hbWUpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMubGlrZUJ0biA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuZWxlbWVudHNfX2NhcmQtY29udGFpbmVyLWZvb3RpbmctYnRuXCJcbiAgICApO1xuXG4gICAgdGhpcy5saWtlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5idG5EZWxldGUgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmVsZW1lbnRzX19jYXJkLWNvbnRhaW5lci1idG4tZGVsZXRlXCJcbiAgICApO1xuXG4gICAgdGhpcy5idG5EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbWVudEltYWdlQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlT3BlbkV4cGFuZGVkSW1hZ2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZUNhcmQoKTtcbiAgICB0aGlzLmVsZW1lbnRJbWFnZUNhcmQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmVsZW1lbnRzX19jYXJkLWNvbnRhaW5lci1pbWFnZVwiXG4gICAgKTtcbiAgICB0aGlzLmVsZW1lbnRUaXRsZUNhcmQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmVsZW1lbnRzX19jYXJkLWNvbnRhaW5lci1mb290aW5nLXRpdGxlXCJcbiAgICApO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuZWxlbWVudEltYWdlQ2FyZC5zcmMgPSB0aGlzLl9zcmM7XG4gICAgdGhpcy5lbGVtZW50SW1hZ2VDYXJkLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5lbGVtZW50VGl0bGVDYXJkLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5nLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5nLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5nLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5nLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG5cbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQodGhpcy5fZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBMw7NnaWNhIGRlbCBmb3JtdWxhcmlvKi9cbiAgX2lzVmFsaWQoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xuICAgIGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxuICAgICAgPyB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KVxuICAgICAgOiB0aGlzLl9zaG93SW5wdXRFcnJvcihcbiAgICAgICAgICBmb3JtRWxlbWVudCxcbiAgICAgICAgICBpbnB1dEVsZW1lbnQsXG4gICAgICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlXG4gICAgICAgICk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG5cbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcblxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG5cbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgLyoqIEzDs2dpY2EgZGVsIGJvdMOzbiAqLyBcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgICAgdGhpcy5fZGlzYWJsZWRCdXR0b24oYnV0dG9uRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbihidXR0b25FbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbiAgfVxuXG4gIF9kaXNhYmxlZEJ1dHRvbihidXR0b25FbGVtZW50KSB7XG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gIH1cblxuICBfZW5hYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQpIHtcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBzZWxlY3Rvcikge1xuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlcmVyKCkge1xuICAgIHRoaXMuX2luaXRpYWxBcnJheS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoaXRlbSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29uc3RhbnRlIHF1ZSBhbG1hY2VuYSB0b2RhcyBsYXMgaW3DoWdlbmVzIHF1ZSBhcGFyZWNlbmFsIGluaWNpbyBkZSBudWVzdHJvIHByb3llY3RvXG4gKi9cbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXG4gICAgc3JjOiBcIi4vaW1hZ2VzL3ZhbGxlLXlvc2VtaXRlLmpwZWdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBMb3Vpc2VcIixcbiAgICBzcmM6IFwiLi9pbWFnZXMvTGFnby1Mb3Vpc2UuanBlZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJNb250YcOxYXMgQ2FsdmFzXCIsXG4gICAgc3JjOiBcIi4vaW1hZ2VzL21vbnRhbmFzLWNhbHZhcy5qcGVnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcbiAgICBzcmM6IFwiLi9pbWFnZXMvbGF0ZW1hci5qcGVnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlBhcnF1ZSBOYWNpb25hbCBkZSBsYSBWYW5vaXNlXCIsXG4gICAgc3JjOiBcIi4vaW1hZ2VzL3BhcnF1ZS12YW5vaXNlLmpwZWdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBzcmM6IFwiLi9pbWFnZXMvbGFnby1kaWJyYWllcy5qcGVnXCIsXG4gIH0sXG5dO1xuXG4vKipcbiAqIFRyYWVtb3MgbnVlc3RyYSBzZWNjacOzbiBlbGVtZW50LCBhcXXDrSBlc3RhcsOhbiBhbG1hY2VuYWRhcyBudWVzdHJhcyBjYXJkc1xuICovXG5leHBvcnQgY29uc3QgZWxlbWVudHNTZWN0aW9uQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5cbi8qKlRyYWVtb3MgZWwgZWxlbWVudG8gSFRNTCBtb2RhbCB5IHN1IGJvdMOzbiBwYXJhIGNlcnJhciAqL1xuZXhwb3J0IGNvbnN0IG1vZGFsRXhwYW5kZWRJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG5leHBvcnQgY29uc3QgbW9kYWxFeHBhbmRlZEltYWdlQ2xvc2VCdG4gPSBtb2RhbEV4cGFuZGVkSW1hZ2UucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX2NvbnRhaW5lci1jbG9zZVwiXG4pO1xuXG4vKiogQ29uc3RhbnRlcyBwYXJhIHV0aWxpemFybGFzIGVuIGVsIGZ1bmNpb25hbWllbnRvIGRlIGVkaXRhciBlbCBwZXJmaWwgKi9cbmV4cG9ydCBjb25zdCBidG5FZGl0SW5mb1Byb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19pbmZvLWVkaXQtYnRuXCJcbik7XG5cbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWVcIik7XG5leHBvcnQgY29uc3QgaW5wdXRBYm91dE1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhYm91dC1tZVwiKTtcblxuLyoqQ29uc3RhbnRlcyBwYXJhIHV0aWxpemFybGFzIGVuIGVsIGZ1bmNpb25hbWllbnRvIGRlIGHDsWFkaXIgbnVldmFzIGltYWdlbmVzICovXG5leHBvcnQgY29uc3QgYnRuT3BlbkZvcm1BZGRJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcbmV4cG9ydCBjb25zdCBhZGRQaWN0dXJlRm9ybUNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjYWRkLXBpY3R1cmUtZm9ybSAucG9wdXBfX2NvbnRhaW5lci1jbG9zZS1wb3B1cFwiXG4pO1xuXG5leHBvcnQgY29uc3Qgc2V0dGluZ0VsZW1lbnQgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19jb250YWluZXItaW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19jb250YWluZXItc2F2ZS1idG5cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fY29udGFpbmVyLXNhdmUtYnRuX2luYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9fY29udGFpbmVyLWlucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG59O1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0b3IgPSBcIi5lbGVtZW50c1wiOyIsImltcG9ydCBcIi4vc3R5bGVzL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NyYy91dGlscy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vc3JjL3BhZ2VzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIHNldHRpbmdFbGVtZW50LFxuICBzZWxlY3Rvcixcbn0gZnJvbSBcIi4uL3NyYy91dGlscy9jb25zdGFudHMuanNcIjtcblxuY29uc3QgcmVuZGVySW5pdGlhbENhcmRzID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoY2FyZEl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkSXRlbSwgXCIjY2FyZC1UZW1wbGF0ZVwiKTtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcblxuICAgICAgcmVuZGVySW5pdGlhbENhcmRzLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gIHNlbGVjdG9yXG4pO1xuXG5yZW5kZXJJbml0aWFsQ2FyZHMucmVuZGVyZXIoKTtcblxuKGZ1bmN0aW9uIGluaXQoKSB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19jb250YWluZXItZm9ybVwiKVxuICApO1xuXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdFbGVtZW50LCBmb3JtRWxlbWVudCk7XG4gICAgZm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufSkoKTtcbiJdLCJuYW1lcyI6WyJQb3B1cFdoaXRJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsInBvcHVwU2VsZWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJjYWxsIiwia2V5IiwidmFsdWUiLCJzcmMiLCJuYW1lIiwidGhpcyIsImNvbnRhaW5lckltYWdlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiQ29udGFpbmVyVGl0bGUiLCJ0ZXh0Q29udGVudCIsIl9zZWxlY3RvciIsImNsYXNzTGlzdCIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjQ2xvc2UiLCJQb3B1cCIsIl9idG5Qb3B1cENsb3NlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJpbmQiLCJhZGQiLCJldnQiLCJjbG9zZSIsIl90aGlzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJDYXJkIiwiZGF0YSIsIl9uYW1lIiwiX3NyYyIsIl9tb2RhbFdpdGhJbWFnZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJlbGVtZW50IiwidG9nZ2xlIiwib3BlbiIsImxpa2VCdG4iLCJfaGFuZGxlTGlrZUljb24iLCJidG5EZWxldGUiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsImVsZW1lbnRJbWFnZUNhcmQiLCJfaGFuZGxlT3BlbkV4cGFuZGVkSW1hZ2UiLCJfZ2V0VGVtcGxhdGVDYXJkIiwiZWxlbWVudFRpdGxlQ2FyZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5nIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJpbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uRWxlbWVudCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJfaXNWYWxpZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImNvbmNhdCIsImlkIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9kaXNhYmxlZEJ1dHRvbiIsIl9lbmFibGVCdXR0b24iLCJzb21lIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiU2VjdGlvbiIsIl9yZWYiLCJzZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaW5pdGlhbEFycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJhcHBlbmQiLCJzZXR0aW5nRWxlbWVudCIsInJlbmRlckluaXRpYWxDYXJkcyIsImNhcmRJdGVtIiwiY2FyZEVsZW1lbnQiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=